
This repo focuses on the API for the social media platform. The API is built using Django Rest Framework.

Anything already mentioned in the documentation of Frontend Repository, such as Agile Methodology, is omitted here for brevity.

# Models Structure 

API Model Diagram:
```mermaid
erDiagram
    User {
        string username
        string email
        string password
    }
    Post {
        string title
        text content
        image image
        string image_filter
        datetime created_at
        datetime updated_at
    }
    Comment {
        text content
        datetime created_at
        datetime updated_at
    }
    Follower {
        datetime created_at
    }
    Like {
        datetime created_at
    }
    Profile {
        string name
        text content
        image image
        datetime created_at
        datetime updated_at
    }
    Message {
        text content
        image image
        datetime timestamp
        boolean read
        boolean is_user
    }

    User ||--o{ Post : owns
    User ||--o{ Comment : writes
    User ||--o{ Like : likes
    User ||--o{ Follower : follows
    User ||--o{ Profile : has
    User ||--o{ Message : sends
    Post ||--o{ Comment : receives
    Post ||--o{ Like : receives
    Follower ||--o{ User : followed
    Message ||--o{ User : receives
```

# Views and URLS with API endpoints

Below summarises the API endpoints for the social media platform.

| HTTP Method | URL                            | Notes                                         | View type (List, Detail, NA) | POST/PUT input                                                                                                           | Output                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| ----------- | ------------------------------ | --------------------------------------------- | ---------------------------- | ------------------------------------------------------------------------------------------------------------------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
|             | AUTHENTICATION                 |
| POST        | dj-rest-auth/login/            |                                               | List                         | {<br>"username": "postmanuser",<br>"password": "password"<br>}                                                           | {<br>"access_token": "eyJ0eXAiOiJKV1QiL...", /\*omitted]<br>"refresh_token": "eyJ0eXAiOiJKV1QiL...", /\*omitted<br>"user": {<br>"pk": 25,<br>"username": "postmanuser",<br>"email": "",<br>"first_name": "",<br>"last_name": "",<br>"profile_id": 24,<br>"profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg"<br>}<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| GET         | /users/                        | Retrieve user list                            | List                         |                                                                                                                          | {<br>"count": 10,<br>"next": null,<br>"previous": null,<br>"results": [<br>{<br>"id": 28,<br>"username": "testuser7"<br>},<br>{<br>"id": 21,<br>"username": "testuser23"<br>},<br>{<br>"id": 24,<br>"username": "posttmanusr"<br>},<br>...<br>]<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| GET         | /users/{id}/                   | Retrieve user details                         | Detail                       |                                                                                                                          | {<br>"id": 29,<br>"username": "user"<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
|             | MESSAGES APP                   |
| GET         | /messages/                     | Retrieve message list                         | List                         |                                                                                                                          | [<br>{<br>"id": 29,<br>"username": "user",<br>"recipient_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"last_message": "hi there",<br>"last_message_time": "11:52"<br>},<br>{<br>"id": 24,<br>"username": "posttmanusr",<br>"recipient_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"last_message": "Hi there! This is POST requesting with Postman on ...",<br>"last_message_time": "21 Aug"<br>},<br>{<br>"id": 22,<br>"username": "user3",<br>"recipient_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"last_message": "yo!",<br>"last_message_time": "21 Aug"<br>}<br>]                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| GET         | /messages/{id}/                | Retrieve message details                      | Detail                       |                                                                                                                          | {<br>"count": 7,<br>"next": null,<br>"previous": null,<br>"results": [<br>{<br>"id": 117,<br>"sender": 25,<br>"recipient": 29,<br>"content": "Hi Test with upload image in API prod",<br>"image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1724751086/brdqibwyd1phcukqn6gq.jpg",<br>"date": "27 Aug 2024",<br>"time": "09:31",<br>"read": false,<br>"sender_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"recipient_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"is_sender": true,<br>"last_message": "hi there",<br>"last_message_time": "11:52"<br>},<br>...<br>]<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| POST        | /messages/{id}/send/           | Send a new message                            | Detail                       | {<br>"content": "Hi there! This is POST requesting with Postman on production"<br>}                                      | {<br>"id": 133,<br>"sender": 25,<br>"recipient": 29,<br>"content": "Hi there! This is POST requesting with Postman on production",<br>"image": null,<br>"date": "28 Aug 2024",<br>"time": "11:39",<br>"read": false,<br>"sender_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"recipient_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"is_sender": true,<br>"last_message": "Hi there! This is POST requesting with Postman on ...",<br>"last_message_time": "11:39"<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| POST        | /messages/{id}/send/           | Send a message with an image                  | Detail                       | "{<br>"content": "Hi there"<br>"image": "image.png"<br>}"                                                                | {<br>"id": 134,<br>"sender": 25,<br>"recipient": 29,<br>"content": "hi there",<br>"image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1724845255/haxht48ba5gcerdlgucn.png",<br>"date": "28 Aug 2024",<br>"time": "11:40",<br>"read": false,<br>"sender_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"recipient_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"is_sender": true,<br>"last_message": "hi there",<br>"last_message_time": "11:40"<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| POST        | /messages/{recipient_id}/send/ | Start a new conversation                      | Detail                       | {<br>"content": "hello user5!"<br>}                                                                                      | {<br>"id": 133,<br>"sender": 25,<br>"recipient": 29,<br>"content": "hello user5!",<br>"image": null,<br>"date": "28 Aug 2024",<br>"time": "11:39",<br>"read": false,<br>"sender_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"recipient_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"is_sender": true,<br>"last_message": "hello user5!",<br>"last_message_time": "11:39"<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| DELETE      | /messages/{id}/delete/         | Delete a specific message                     |                              | "{<br>"content": "Hi there"<br>"image": "image.png"<br>}"                                                                | {<br>"id": 134,<br>"sender": 25,<br>"recipient": 29,<br>"content": "hi there",<br>"image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1724845255/haxht48ba5gcerdlgucn.png",<br>"date": "28 Aug 2024",<br>"time": "11:40",<br>"read": false,<br>"sender_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"recipient_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"is_sender": true,<br>"last_message": "hi there",<br>"last_message_time": "11:40"<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| PATCH       | /messages/{id}/update/         | Update a specific message                     | Detail                       | "{<br>""content"": ""hello user5!""<br>}"                                                                                | {<br>"id": 117,<br>"sender": 25,<br>"recipient": 29,<br>"content": "hello user5!",<br>"image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1724751086/brdqibwyd1phcukqn6gq.jpg",<br>"date": "27 Aug 2024",<br>"time": "09:31",<br>"read": false,<br>"sender_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"recipient_profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"is_sender": true,<br>"last_message": "hi there",<br>"last_message_time": "11:40"<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| DELETE      | /messages/{id}/delete/         | Delete an entire chat                         |                              |                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
|             | POSTS APP                      |
| POST        | /posts/                        | Create a new post (with or without image)     | Detail                       | {<br>"title": "My Test Post (Postman API)"<br>"content": "This is a test post content"<br>"image": "test_image.png"<br>} | {<br>"id": 48,<br>"owner": "postmanuser",<br>"is_owner": true,<br>"profile_id": 24,<br>"profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"created_at": "27 Aug 2024",<br>"updated_at": "27 Aug 2024",<br>"title": "My Test Post (Postman API)",<br>"content": "This is a test post content",<br>"image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/test_image_whk6ly",<br>"image_filter": "normal",<br>"like_id": null<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| GET         | /posts/                        | Get Posts List                                | List                         |                                                                                                                          | {<br>"count": 8,<br>"next": null,<br>"previous": null,<br>"results": [<br>{<br>"id": 48,<br>"owner": "postmanuser",<br>"is_owner": true,<br>"profile_id": 24,<br>"profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"created_at": "27 Aug 2024",<br>"updated_at": "27 Aug 2024",<br>"title": "My Test Post (Postman API)",<br>"content": "This is a test post content",<br>"image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/test_image_whk6ly",<br>"image_filter": "normal",<br>"like_id": null,<br>"likes_count": 0,<br>"comments_count": 0<br>},<br>{<br>"id": 47,<br>"owner": "postmanuser",<br>"is_owner": true,<br>"profile_id": 24,<br>"profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"created_at": "27 Aug 2024",<br>"updated_at": "27 Aug 2024",<br>"title": "My Test Post (Postman API)",<br>"content": "This is a test post content",<br>"image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/test_image_aukhfj",<br>"image_filter": "normal",<br>"like_id": null,<br>"likes_count": 0,<br>"comments_count": 0<br>},<br>... |
| GET         | /posts/{id}/                   | Retrieve a specific post                      | Detail                       |                                                                                                                          | {<br>"id": 47,<br>"owner": "postmanuser",<br>"is_owner": true,<br>"profile_id": 24,<br>"profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"created_at": "27 Aug 2024",<br>"updated_at": "27 Aug 2024",<br>"title": "My Test Post (Postman API)",<br>"content": "This is a test post content",<br>"image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/test_image_aukhfj",<br>"image_filter": "normal",<br>"like_id": null,<br>"likes_count": 0,<br>"comments_count": 0<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| PUT         | /posts/{id}/                   | Update a post (title, content, image, or all) | Detail                       | {<br>"title": "My Test Post (Postman API)"<br>"content": "This is a test post content"<br>"image": "test_image.png"<br>} | {<br>"id": 48,<br>"owner": "postmanuser",<br>"is_owner": true,<br>"profile_id": 24,<br>"profile_image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/default_profile_dqcubz.jpg",<br>"created_at": "27 Aug 2024",<br>"updated_at": "28 Aug 2024",<br>"title": "My Test Post (Postman API)",<br>"content": "This is a test post content",<br>"image": "https://res.cloudinary.com/dh5lpihx1/image/upload/v1/media/images/test_image_z1iqf3",<br>"image_filter": "normal",<br>"like_id": null,<br>"likes_count": 0,<br>"comments_count": 0<br>}                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| DELETE      | /posts/{id}/                   | Delete a specific post                        |                              |                                                                                                                          |

# manual testing with Postman

# automatic unit testing

## Unit Testing

## Linting

# Libraries and Tools

## Project Dependencies

Below is a list of the key dependencies used in this project, along with brief descriptions and links to more information.
# Project Dependencies

Below is a table listing the key dependencies used in this project, along with brief descriptions and links to more information.

| Dependency & Version                        | Description                                                                                                                                                           |
|---------------------------------------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| **asgiref==3.3.4**                          | [asgiref](https://pypi.org/project/asgiref/) is the ASGI reference implementation, providing utilities for building asynchronous web applications in Python.           |
| **cloudinary==1.41.0**                      | [cloudinary](https://pypi.org/project/cloudinary/) is a Python library that simplifies the integration with Cloudinary, a service for managing media assets.            |
| **dj-database-url==0.5.0**                  | [dj-database-url](https://pypi.org/project/dj-database-url/) allows you to configure your Django application's database with an environment variable.                  |
| **dj-rest-auth==2.1.9**                     | [dj-rest-auth](https://pypi.org/project/dj-rest-auth/) provides a set of REST API endpoints for handling authentication in Django Rest Framework.                      |
| **Django==3.2.4**                           | [Django](https://pypi.org/project/Django/) is a high-level Python web framework that encourages rapid development and clean, pragmatic design.                         |
| **django-allauth==0.50.0**                  | [django-allauth](https://pypi.org/project/django-allauth/) is an integrated set of Django applications addressing authentication, registration, and social login.       |
| **django-cloudinary-storage==0.3.0**        | [django-cloudinary-storage](https://pypi.org/project/django-cloudinary-storage/) integrates Cloudinary storage for media and static files in Django projects.           |
| **django-cors-headers==3.7.0**              | [django-cors-headers](https://pypi.org/project/django-cors-headers/) provides Cross-Origin Resource Sharing (CORS) support for Django applications.                    |
| **django-filter==2.4.0**                    | [django-filter](https://pypi.org/project/django-filter/) simplifies the process of filtering querysets in Django REST Framework.                                       |
| **djangorestframework==3.12.4**             | [djangorestframework](https://pypi.org/project/djangorestframework/) is a powerful and flexible toolkit for building Web APIs in Django.                               |
| **djangorestframework-simplejwt==4.7.2**    | [djangorestframework-simplejwt](https://pypi.org/project/djangorestframework-simplejwt/) is a JSON Web Token authentication plugin for Django REST Framework.          |
| **gunicorn==20.1.0**                        | [gunicorn](https://pypi.org/project/gunicorn/) is a Python WSGI HTTP Server for UNIX, commonly used to serve Django applications.                                      |
| **oauthlib==3.1.1**                         | [oauthlib](https://pypi.org/project/oauthlib/) is a Python library that provides a framework for implementing OAuth1 and OAuth2.                                       |
| **Pillow==8.2.0**                           | [Pillow](https://pypi.org/project/Pillow/) is a Python Imaging Library that adds image processing capabilities to your Python interpreter.                             |
| **psycopg2-binary==2.9.1**                  | [psycopg2-binary](https://pypi.org/project/psycopg2-binary/) is a PostgreSQL adapter for Python, allowing you to connect and work with PostgreSQL databases.            |
| **PyJWT==2.1.0**                            | [PyJWT](https://pypi.org/project/PyJWT/) is a Python library that allows you to encode and decode JSON Web Tokens (JWT).                                               |
| **python3-openid==3.2.0**                   | [python3-openid](https://pypi.org/project/python3-openid/) is a Python library for integrating OpenID authentication.                                                  |
| **pytz==2021.1**                            | [pytz](https://pypi.org/project/pytz/) is a Python library that brings the Olson tz database into Python, allowing for accurate and cross-platform timezone calculations.|
| **requests-oauthlib==1.3.0**                | [requests-oauthlib](https://pypi.org/project/requests-oauthlib/) provides OAuthlib authentication support for Python’s Requests library.                               |
| **sqlparse==0.4.1**                         | [sqlparse](https://pypi.org/project/sqlparse/) is a non-validating SQL parser for Python, useful for formatting and parsing SQL statements.                            |